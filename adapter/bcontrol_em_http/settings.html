<h3>HTTP/JSON Adapter for <a href="http://www.b-control.com/energiemanagement/ihr-zuhause.html" target="_blank">B-control EM100</a></h3>

<table style="font-size: 12px">
    <tr>
        <td>
            Enabled:
        </td>
        <td>
            <select id="bcontrol_em_http_enabled">
                <option value="false">false</option>
                <option value="true">true</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Address:</td>
        <td><input id="bcontrol_em_http_settings_host" type="text"/></td>
    </tr>
    <tr>
        <td>Pause:</td>
        <td><input id="bcontrol_em_http_settings_pause" type="text"/></td>
    </tr>
    <tr>
        <td>Password:</td>
        <td><input id="bcontrol_em_http_settings_pass" type="text"/></td>
    </tr>

</table>


<script type="text/javascript">

    if (currentAdapterSettings.enabled) {
        $("#bcontrol_em_http_enabled option[value='false']").removeAttr("selected");
        $("#bcontrol_em_http_enabled option[value='true']").attr("selected", true);
    } else {
        $("#bcontrol_em_http_enabled option[value='true']").removeAttr("selected");
        $("#bcontrol_em_http_enabled option[value='false']").attr("selected", true);
    }

    $("#bcontrol_em_http_enabled").change(function () {
        currentAdapterSettings.enabled = ($("#bcontrol_em_http_enabled option:selected").val() == "false" ? false : true);
        updateAdapterSettings();
    });


    $("#bcontrol_em_http_settings_host").val(currentAdapterSettings.settings.host);

    $("#bcontrol_em_http_settings_host").change(function () {
        currentAdapterSettings.settings.host = $("#bcontrol_em_http_settings_host").val();
        updateAdapterSettings();
    });


    $("#bcontrol_em_http_settings_port").val(currentAdapterSettings.settings.port);

    $("#bcontrol_em_http_settings_port").change(function () {
        currentAdapterSettings.settings.port = $("#bcontrol_em_http_settings_port").val();
        updateAdapterSettings();
    });

    $("#bcontrol_em_http_settings_pause").val(currentAdapterSettings.settings.pause);

    $("#bcontrol_em_http_settings_pause").change(function () {
        currentAdapterSettings.settings.pause = $("#bcontrol_em_http_settings_pause").val();
        updateAdapterSettings();
    });

    $("#bcontrol_em_http_settings_pass").val(currentAdapterSettings.settings.pass);

    $("#bcontrol_em_http_settings_pass").change(function () {
        currentAdapterSettings.settings.pass = $("#bcontrol_em_http_settings_pass").val();
        updateAdapterSettings();
    });


</script>

<html>
<head>
    <title>CCU.IO</title>
    <link rel="stylesheet" href="../lib/css/themes/jquery-ui/smoothness/jquery-ui.min.css" type="text/css"/>
    <link rel="stylesheet" href="../lib/css/jqGrid/ui.jqgrid-4.5.4.css" type="text/css"/>
    <link rel="stylesheet" href="../lib/css/jquery.multiselect-1.13.css" type="text/css"/>
    <link rel="stylesheet" href="css/ccu.io.css" type="text/css"/>
    <script src="../lib/js/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="../lib/js/jquery-ui-1.10.3.full.min.js" type="text/javascript"></script>
    <script src="../lib/js/jquery.multiselect-1.13.min.js" type="text/javascript"></script>
    <script src="../lib/js/jqGrid/jquery.jqGrid-4.5.4.min.js" type="text/javascript"></script>
    <script src="../lib/js/jqGrid/i18n/grid.locale-en.js" type="text/javascript"></script>
    <script src="/auth/auth.js" type="text/javascript"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/ccu.io.js" type="text/javascript"></script>
</head>
<body>
<div class="jqui-tabs" id="mainTabs">
    <ul>
        <li><a href="#mainTab1"><span>CCU.IO</span></a></li>
        <li><a href="#mainTab2"><span>Addons</span></a></li>
        <li><a href="#mainTab3"><span>Adapter</span></a></li>
        <!-- <li><a href="#mainTab4"><span>Scripts</span></a></li> -->
        <li><a href="#mainTab5"><span>Data</span></a></li>
    </ul>
    <div id="mainTab1">
        <div class="jqui-tabs" id="subTabs1">
            <ul>
                <li><a href="#subTab11">Info</a></li>
                <li><a href="#subTab12">Control</a></li>
                <li><a href="#subTab13">Settings</a></li>
                <!--<li><a href="#subTab14">Log</a></li>-->
            </ul>
            <div id="subTab11">

                <p id="version_info">
                    CCU.IO Version: <span class="ccu-io-version"></span> <!--,
                    CCU.IO Uptime: <span class="ccu-io-uptime"></span>,
                    CCU Firmware: <span class="ccu-version"></span>,
                    CCU Uptime: <span class="ccu-version"></span>-->

                </p>
                <p>
                <table style="font-size:12px">
                    <tr>
                        <td style="width: 160px">CCU reachable:</td><td style="width:100px; text-align:right;" class="ccu-reachable"></td>
                    </tr>
                    <tr>
                        <td>ReGa Up:</td><td style="width:100px; text-align:right;" class="ccu-regaup"></td>
                    </tr>
                    <tr>
                        <td>ReGa Data loaded:</td><td style="width:100px; text-align:right;" class="ccu-regadata"></td>
                    </tr>
                    <tr>
                        <td>RPC Inits:</td><td style="width:100px; text-align:right;" class="ccu-rpc"></td>
                    </tr>
                </table>
                </p>
                <p>
                <table style="font-size:12px">
                    <tr>
                        <td style="width: 160px">script-engine enabled:</td><td style="width:100px; text-align:right;" class="ccu-io-scriptengine"></td>
                    </tr>

                    <tr>
                        <td>logging enabled:</td><td style="width:100px; text-align:right;" class="ccu-io-logging"></td>
                    </tr>
                </table>
                </p>


                <p>
                <table style="font-size:12px">
                <tr>
                    <td style="width: 160px">Last ReGa poll:</td><td style="width:100px; text-align:right;" class="ccu-io-lastrega"></td>
                </tr>
                <tr>
                    <td style="width: 160px">Last rf event:</td><td style="width:100px; text-align:right;" class="ccu-io-lastrf"></td>
                </tr>
                <tr>
                        <td>Last hs485 event:</td><td style="width:100px; text-align:right;" class="ccu-io-lasths485"></td>
                    </tr>
                    <tr>
                        <td>Last CUx event:</td><td style="width:100px; text-align:right;" class="ccu-io-lastcux"></td>
                    </tr>
                </table>
                </p>

            </div>
            <div id="subTab12">
                <table>
                    <tr>
                        <td>
                            <input type="button" id="restartCCUIO" value="restart CCU.IO"/>
                        </td>
                        <td>
                            <input type="button" id="refreshAddons" value="refresh Addons"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="button" id="refreshCCU" value="reload ReGa data"/>
                        </td>
                        <td>

                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="button" id="restartRPC" value="restart RPC inits"/>
                        </td>
                        <td>

                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="button" id="reloadScriptEngine" value="restart script-engine"/>
                        </td>
                        <td>

                        </td>
                    </tr>
                </table>

            </div>
            <div id="subTab13">
                <input type="button" id="saveSettings" value="save changes"/><br/><br/>
                <div class="settings-box">
                    <h3>Base configuration</h3>
                    <table class="settings-table">
                        <tr>
                            <td class="settings-td1">CCU IP-Address</td>
                            <td class="settings-td2">&nbsp;</td>
                            <td class="settings-td3"><input id="ccuIp" type="text"/></td>
                            <td class="settings-td4">&nbsp;</td>
                            <td class="settings-td5">&nbsp;</td>
                            <td class="settings-td6">&nbsp;</td>
                            <td class="settings-td7">&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="settings-td1">CCU.IO IP-Address</td>
                            <td class="settings-td2">&nbsp;</td>
                            <td class="settings-td3"><input id="binrpc_listenIp" type="text"/></td>
                            <td class="settings-td4">&nbsp;</td>
                            <td class="settings-td5">&nbsp;</td>
                            <td class="settings-td6">&nbsp;</td>
                            <td class="settings-td7">&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="settings-td1">Stats</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="stats" type="checkbox"/></td>
                            <td class="settings-td4">Interval (minutes)</td>
                            <td class="settings-td5"><input id="statsInterval" type="text"/></td>
                            <td class="settings-td6">&nbsp;</td>
                            <td class="settings-td7">&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="settings-td1">Logging</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="logging_enabled" type="checkbox"/></td>
                            <td class="settings-td4">Write Interval (s)</td>
                            <td class="settings-td5"><input id="logging_writeInterval" type="text"/></td>
                            <td class="settings-td6">&nbsp;</td>
                            <td class="settings-td7">&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="settings-td1">Script-Engine</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="scriptEngineEnabled" type="checkbox"/></td>
                            <td class="settings-td4">Longitude</td>
                            <td class="settings-td5"><input id="longitude" type="text"/></td>
                            <td class="settings-td6">Latitude</td>
                            <td class="settings-td7"><input id="latitude" type="text"/></td>
                        </tr>

                    </table>
                </div>
                <div class="settings-box">
                    <h3>Webserver</h3>
                    <table class="settings-table">
                        <tr>
                            <td class="settings-td1">HTTP</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="httpEnabled" type="checkbox"/></td>
                            <td class="settings-td4">Port</td>
                            <td class="settings-td5"><input id="ioListenPort" data-defaultval="8080" type="text"/></td>
                            <td class="settings-td6">Authentication</td>
                            <td class="settings-td7"><input id="authentication_enabled" type="checkbox"/></td>
                        </tr>
                        <tr>
                            <td class="settings-td1">HTTPS</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="httpsEnabled" type="checkbox"/></td>
                            <td class="settings-td4">Port</td>
                            <td class="settings-td5"><input id="ioListenPortSsl" data-defaultval="8443" type="text"/></td>
                            <td class="settings-td6">Authentication</td>
                            <td class="settings-td7"><input id="authentication_enabledSsl" type="checkbox"/></td>
                        </tr>
                        <tr>
                            <td class="settings-td1">Authentication</td>
                            <td class="settings-td2">Username</td>
                            <td class="settings-td3"><input id="authentication_user" type="text"/></td>
                            <td class="settings-td4">Password</td>
                            <td class="settings-td5"><input id="authentication_password" type="text"/></td>
                            <td class="settings-td6">&nbsp;</td>
                            <td class="settings-td7">&nbsp;</td>

                        </tr>
                    </table>
                </div>
                <div class="settings-box">
                    <h3>HomeMatic RPC</h3>
                    <table class="settings-table">
                        <tr>
                            <td class="settings-td1">CCU.IO RPC Server </td>
                            <td class="settings-td2">&nbsp;</td>
                            <td class="settings-td3">&nbsp;</td>
                            <td class="settings-td4">Port</td>
                            <td class="settings-td5"><input id="binrpc_listenPort" data-defaultval="2100" type="text"/></td>
                            <td class="settings-td6">&nbsp;</td>
                            <td class="settings-td7">&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="settings-td1">rfd Init</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="binrpc_rfdEnabled" type="checkbox"/></td>
                            <td class="settings-td4"></td>
                            <td class="settings-td5"></td>
                            <td class="settings-td6"></td>
                            <td class="settings-td7"></td>
                        </tr>
                        <tr>
                            <td class="settings-td1">hs485d Init</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="binrpc_hs485dEnabled" type="checkbox"/></td>
                            <td class="settings-td4"></td>
                            <td class="settings-td5"></td>
                            <td class="settings-td6"></td>
                            <td class="settings-td7"></td>
                        </tr>
                        <tr>
                            <td class="settings-td1">CUxD Init</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="binrpc_cuxdEnabled" type="checkbox"/></td>
                            <td class="settings-td4">Port</td>
                            <td class="settings-td5"><input id="binrpc_cuxdPort" type="text"/></td>
                            <td class="settings-td6"></td>
                            <td class="settings-td7"></td>
                        </tr>
                        <tr>
                            <td class="settings-td1">Check RPC Events</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="binrpc_checkEvents_enabled" type="checkbox"/></td>
                            <td class="settings-td4"></td>
                            <td class="settings-td5"></td>
                            <td class="settings-td6"></td>
                            <td class="settings-td7"></td>
                        </tr>
                        <tr>
                            <td class="settings-td1">Check rfd Events</td>
                            <td class="settings-td2"></td>
                            <td class="settings-td3"></td>
                            <td class="settings-td4">Virtual Key</td>
                            <td colspan="2"><input size="50" id="binrpc_checkEvents_rfd" type="text"/></td>
                            <td class="settings-td7"></td>
                        </tr>
                        <tr>
                            <td class="settings-td1">Check hs485d Events</td>
                            <td class="settings-td2"></td>
                            <td class="settings-td3"></td>
                            <td class="settings-td4">Virtual Key</td>
                            <td colspan="2"><input size="50" id="binrpc_checkEvents_hs485d" type="text"/></td>
                            <td class="settings-td7"></td>
                        </tr>

                    </table>
                </div>
                <div class="settings-box">
                    <h3>HomeMatic ReGaHSS</h3>
                    <table class="settings-table">
                        <tr>
                            <td class="settings-td1">Polling</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="regahss_pollData" type="checkbox"/></td>
                            <td class="settings-td4">Interval (ms)</td>
                            <td class="settings-td5"><input id="regahss_pollDataInterval" type="text"/></td>
                            <td class="settings-td6">&nbsp;</td>
                            <td class="settings-td7">&nbsp;</td>
                        </tr>
                        <tr>
                            <td class="settings-td1">Polling Trigger</td>
                            <td class="settings-td2">Enabled</td>
                            <td class="settings-td3"><input id="regahss_pollDataTriggerEnabled" type="checkbox"/></td>
                            <td class="settings-td4">Virtual Key</td>
                            <td colspan="2"><input id="regahss_pollDataTrigger" size="50" type="text"/></td>
                            <td class="settings-td7">&nbsp;</td>
                        </tr>

                    </table>
                </div>

            </div>
            <div id="subTab14">
                <!--<table id="grid_log"></table>
                <div id="pager_log"></div>-->
            </div>
        </div>
    </div>
    <div id="mainTab2">
        <table class="" id="grid_addons"></table>
        <div id="pager_addons"></div>
        <input type="button" id="install_addon" value="install addon"/>
    </div>
    <div id="mainTab3">
        <div id="adapter_loading" style="display:none">
            ...loading
        </div>
        <div id="adapter_overview">
            <table class="gridMain" id="grid_adapter"></table>
            <div id="pager_adapter"></div>
        </div>
        <div id="adapter_config" style="display: none">
            <h3><span id="adapter_name"></span> adapter configuration</h3>
            <button id="adapter_save">Save</button>
            <button id="adapter_close">Save and close</button>
            <button id="adapter_cancel">Discard changes and close</button>
            <br/><br/>
            <textarea id='adapter_config_json'></textarea>
            <div id="adapter_config_container">

            </div>
        </div>
    </div>
    <div id="mainTab4">
        <table class="gridMain" id="grid_scripts"></table>
        <div id="pager_scripts"></div>
    </div>
    <div id="mainTab5">
        <div class="jqui-tabs" id="subTabs5">
            <ul>
                <li><a href="#subTab51">regaObjects</a></li>
                <li><a href="#subTab52">regaIndex</a></li>
                <li><a href="#subTab53">datapoints</a></li>
                <li><a href="#subTab55">events</a></li>
                <li><a href="#subTab54">stringtable</a></li>
                <li><a href="#subTab56">datastore</a></li>
            </ul>
            <div id="subTab51">
                <input id="metaRefresh" type="button" value="refresh"/>
                <input id="metaAnonymize" type="button" value="anonymize"/>
                <!--<input id="metaSave" type="button" value="apply changes"/>--><br/>
                <textarea readonly class="data-area ui-widget ui-state-default ui-corner-all" id="meta"></textarea>
            </div>
            <div id="subTab52">
                <input id="indexRefresh" type="button" value="refresh"/>
                <input id="indexAnonymize" type="button" value="anonymize"/>
                <!--<input id="indexSave" type="button" value="apply changes"/>--><br/>
                <textarea readonly class="data-area ui-widget ui-state-default ui-corner-all" id="index"></textarea>
            </div>
            <div id="subTab53">
                <!--<input id="dataRefresh" type="button" value="refresh"/>
                <input id="dataSave" type="button" value="apply changes"/><br/>
                <textarea class="data-area ui-widget ui-state-default ui-corner-all" id="data"></textarea>-->
                <table class="gridSub" id="grid_datapoints"></table>
                <div id="pager_datapoints"></div>
            </div>
            <div id="subTab54">
                <!--<input id="stringtableRefresh" type="button" value="refresh"/>
                <input id="stringtableSave" type="button" value="apply changes"/><br/>-->
                <textarea readonly class="data-area ui-widget ui-state-default ui-corner-all" id="stringtable"></textarea>
            </div>
            <div id="subTab55">
                <table class="gridSub" id="grid_events"></table>
                <div id="pager_events"></div>
            </div>
            <div id="subTab56">
                <select id="select_datastore">
                    <option value=""> - none</option>
                </select>
                <input id="datastoreSave" type="button" value="save changes"/><br>
                <textarea class="data-area ui-widget ui-state-default ui-corner-all" id="datastore"></textarea>
            </div>
        </div>
    </div>

</div>
<div id="install_addon_dialog">
    <br/>
    <select id="install_addon_select">
        <option value="dashui">DashUI</option>
        <option value="yahui">yahui</option>
        <option value="charts">CCU.IO-Highcharts</option>
        <option value="eventlist">CCU.IO-Eventlist</option>
    </select>
    <input type="button" id="install_addon_button" value="install"/>
</div>
<div id="reloading" style="display: none; position:absolute; top:0px; left:0px; width:100%; height: 100%; background-color:white;">
    <br/><br/><span style="padding: 50px; font-size: 15px; font-weight: bold;">CCU.IO is reloading all CCU data. Please be patient. This page will be automatically reloaded when finished.</span>
</div>

<div id="restarting" style="display: none; position:absolute; top:0px; left:0px; width:100%; height: 100%; background-color:white;">
    <br/><br/><span style="padding: 50px; font-size: 15px; font-weight: bold;">CCU.IO is restarting.</span>
</div>

</body>
</html>